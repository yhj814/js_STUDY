<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>이벤트 02</title>
        <style>
            /* 바깥 border 없애기 */
            input {
                outline: none;
            }
        </style>
    </head>
    <body>
        <h1>포커스, 블러 이벤트</h1>
        <form action="" name="info">
            <input type="text" name="birth" placeholder="생년월일" />
            <input type="text" name="phone" placeholder="핸드폰 번호" />
        </form>
    </body>
    <script>
        const birth = info.birth;
        const phone = info.phone;
        const birthRegex =
            //  날짜 정규식
            /^(19[0-9][0-9]|20\d{2})\.?(0[1-9]|1[0-2])\.?(0[1-9]|[1-2][0-9]|3[0-1])$/;
        //  전화번호 정규식
        const phoneRegex = /^01([0|1|6|7|8|9])\-?([0-9]{3,4})\-?([0-9]{4})$/;

        let temp = birth.style.border;
        //blur : 포커스를 잃을때 발생되는 이벤트
        birth.addEventListener("blur", (e) => {
            // test : 정규식 사용 메소드
            if (birthRegex.test(birth.value)) {
                birth.style.border = temp;
                return;
            }
            birth.style.border = "1px solid red";
            // 값이 정규식 조건에 맞지 않으면 포커스되어 벗어나지 못한다
            birth.focus();
        });

        phone.addEventListener("blur", (e) => {
            if (phoneRegex.test(phone.value)) {
                phone.style.border = temp;
                return;
            }
            phone.style.border = "1px solid red";
            phone.focus();
        });
    </script>
</html>
